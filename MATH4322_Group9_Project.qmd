---
title: "Highway Hustle - Unraveling Metro Interstate Traffic Trends"
format: pdf
highlight-style: github
code-block-bg: true
code-block-border-left: "#31BAE9"
title-block-style: plain
header-includes: 
- \newcommand{\bi}{\begin{itemize}}
- \newcommand{\ei}{\end{itemize}}
- \newcommand{\iset}{\setlength\itemsep{1em}}
- \usepackage{amsbsy}
- \usepackage{hyperref}
- \newcommand{\blue}[1]{\textcolor{blue}{#1}}
- \newcommand{\red}[1]{\textcolor{red}{#1}}
---

\centering \underline{Group Members:}

\centering

\textbf{Abraar Patel (2069545)}

\textbf{Talha Sohail (2092858)}

\textbf{Ujwal Joshi (2018577)}

\textbf{Kevin Zheng (2022183)}

\textbf{Alton Phan (2020230)}

\vspace{3em}

```{r echo=FALSE, out.width = '50%'}
knitr::include_graphics("traffic.png")
```
\newpage

\raggedright

\textbf{INTRODUCTION} 

In the ever-evolving world of urban landscapes, we find inspiration in the vibrant heartbeat of cities and the endless potential for progress. As population growth and urbanization continue their inexorable march, our motivation to decode the intricate patterns of urban life intensifies. Urban transportation networks face increasing challenges due to population growth and urbanization. Understanding traffic patterns and
congestion on metro interstate highways is crucial for efficient urban planning and management. Therefore, we chose a comprehensive \textbf{metro interstate traffic} dataset sourced from Kaggle to analyze and uncover valuable insights into traffic flow, congestion and accurately forecast traffic volume. The dataset consists of \textbf{48,205 observations} and following \textbf{9 variables}:
\begin{itemize}
\item \textbf{\textit{holiday}}: a categorical variable representing a national or regional holiday.
\item \textbf{\textit{temp}}: a numeric variable that represents the average temperature in kelvin.
\item \textbf{\textit{rain\_1h}}: a numeric variable that shows the amount of rain occurring in an hour in mm.
\item \textbf{\textit{snow\_1h}}: a numeric variable that shows the amount of snow occurring in an hour in mm.
\item \textbf{\textit{clouds\_all}}: numeric variable representing the percentage of cloud cover.
\item \textbf{\textit{weather\_main}}: categorical variable containing a short textual description of the current weather.
\item \textbf{\textit{weather\_description}}: categorical variable providing longer textual description and detail for the current weather.
\item \textbf{\textit{date\_time}}: datetime variable that shows the hour of the data collected in local CST time.
\item \textbf{\textit{traffic\_volume}}: numeric variable that shows the hourly I-94 reported westbound traffic volume.
\end{itemize}

The \textbf{main question} we want to answer is: \textbf{Which variables or factors have the most significant
impact on traffic volume?}

\vspace{0.5em}
```{r}
# Importing the dataset and displaying the summary
traffic = read.csv("C:/Users/talha/Desktop/School/MATH4322/Group Project/Metro_Interstate_Traffic_Volume.csv")
summary(traffic)
```

```{r}
# checking if there are any missing values in the entire dataset 
# (returns TRUE if there are missing values , otherwise FALSE)
any(is.na(traffic))
```
There are no missing values in the dataset.

After conducting some data visualizations, it became evident that data cleaning needed. Implementing data cleaning is an important step in the data analytics process.

\textbf{\underline{Data Cleaning} (Talha and Abraar)}:
During data cleaning, we formatted the date\_time column, extracted time-related features, and categorized hours into distinct periods. We encoded the holidays column as TRUE or FALSE due to their sparse nature.The outliers in temp and rain\_1h column were removed. We also simplified weather conditions into 'thunderstorm,' 'mist,' 'fog,' and 'haze,' since they are the most distinct weather conditions and then created dummy variables for weather\_description column. The unnecessary columns were dropped, and rain\_1h column was classified into categories such as 'light,' 'moderate,' 'heavy,' and 'no_rain.' Additionally, snow\_1h column was encoded as 'snow' or 'no_snow'. We then converted the categorical variables into factors to prepare the dataset for modeling purposes.

```{r}
# Removing the outlier in temp variable and rain_1h variable 
traffic <- traffic[traffic$temp > -400, ]
traffic <- traffic[traffic$rain_1h <2500, ]
# Formatting the date_time column in the desired format (%Y-%m-%d %H:%M)
traffic$date_time <- strftime(traffic$date_time, format = "%Y-%m-%d %H:%M")

# Extracting additional features from date_time variable 
#(For weekdays, Monday is 0 and Sunday is 6)
traffic$date_time = as.POSIXct(traffic$date_time)
traffic$weekday = as.numeric(format(traffic$date_time, "%w"))
traffic$date = as.Date(traffic$date_time)
traffic$hour = as.numeric(format(traffic$date_time, "%H"))
traffic$month = as.numeric(format(traffic$date_time, "%m"))
traffic$year = as.numeric(format(traffic$date_time, "%Y"))
```

The rest of the data cleaning code can be found in the R source code file.

```{r}
# Separating "rain_1h" into different categories (light, moderate, heavy)
traffic$rain_1h <- ifelse(traffic$rain_1h == 0, "no_rain",
                          ifelse(traffic$rain_1h <= 1, "light",
                                 ifelse(traffic$rain_1h <= 10, "moderate", "heavy")))


# Encoding "snow_1h" column  as "snow" or "no_snow"
traffic$snow_1h[traffic$snow_1h > 0] <- "snow"
traffic$snow_1h[traffic$snow_1h == 0] <- "no_snow"

# converting all categorical variables into factors
# to make it suitable for the regression models
traffic$holiday <- as.factor(traffic$holiday)
traffic$hour <- as.factor(traffic$hour)
traffic$rain_1h <- as.factor(traffic$rain_1h)
traffic$snow_1h <- as.factor(traffic$snow_1h)

```
